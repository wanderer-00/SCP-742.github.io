<!-- СДЕЛАНО: -->

<!-- ВСЕ ИМЕНА ТРЕКОВ БЕРУТЬСЯ ИЗ МАССИВА -->
<!-- ВСЕ URL ТРЕКОВ БЕРУТЬСЯ ИЗ МАССИВА -->
<!-- ОГРАНИЧЕНИЕ НА ПЕРЕЛИСТЫВАНИЕ ЗА ПОСЛЕДНИЙ И ПЕРВЫЙ ТРЕК -->
<!--  -->



<!-- СДЕЛАТЬ -->

<!-- СМЕНА ИКОНКИ ПАУЗЫ ПРИ ОКОНЧАНИИ ТРЕКА -->
<!-- НАЛАДИТЬ РАБОТУ REPEATE И ТД. -->
<!-- СМЕНА ОБЛОЖЕК -->
<!--  -->


<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Player_v3.1</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://kit.fontawesome.com/44a29f837f.js" crossorigin="anonymous"></script>
</head>

<body>
    <section class="screen">
        <input type="checkbox" name="check" id="magicButton" value="None">
        <label for="magicButton" class="main"></label>

        <div class="coverImage"></div>
        <div class="search"></div>
        <div class="bodyPlayer"></div>

        <table class="list">


            <!-- 1 -->
            <tr class="song">
                <td class="nr"><h5>1</h5></td>
                <td class="title"><h6 id='title'>$UICIDEBOY$ - $OUTH</h6></td>
                <td class="length"><h5>2:49</h5></td>
                <td><input type="checkbox" id="heart"><label for="heart" class="icons"></label></td>
            </tr>

            <!-- 2 -->
            <tr class="song">
                <td class="nr"><h5>2</h5></td>
                <td class="title"><div id="titleZ"><h6>Fall Out Boy - Young And Menace</h6></div></td>
                <td class="length"><h5>3:43</h5></td>
                <td><input type="checkbox" id="heart1" checked><label for="heart1" class="icons"></label></td>
            </tr>

            <!-- 3 -->
            <div class="song">
                <div class="nr"><h5>3</h5></div>
                <div class="title"><h6>-</h6></div>
                <div class="length"><h5>00:00</h5></div>
                <div><input type="checkbox" id="heart2"><label for="heart2" class="icons"></label></div>
            </div>

            <!-- 4 -->
            <tr class="song">
                <td class="nr"><h5>4</h5></td>
                <td class="title"><h6>-</h6></td>
                <td class="length"><h5>00:00</h5></td>
                <td><input type="checkbox" id="heart3"><label for="heart3" class="icons"></label></td>
            </tr>

            <!-- 5 -->
            <tr class="song">
                <td class="nr"><h5>5</h5></td>
                <td class="title"><h6>-</h6></td>
                <td class="length"><h5>00:00</h5></td>
                <td><input type="checkbox" id="heart4" checked><label for="heart4" class="icons"></label></td>
            </tr>

            <!-- 6 -->
            <tr class="song">
                <td class="nr"><h5>6</h5></td>
                <td class="title"><h6>-</h6></td>
                <td class="length"><h5>00:00</h5></td>
                <td><input type="checkbox" id="heart5"><label for="heart5" class="icons"></label></td>
            </tr>

            <!-- 7 -->
            <tr class="song">
                <td class="nr"><h5>7</h5></td>
                <td class="title"><h6>-</h6></td>
                <td class="length"><h5>00:00</h5></td>
                <td><input type="checkbox" id="heart6"><label for="heart5" class="icons"></label></td>
            </tr>

            <!-- 8 -->
            <tr class="song">
                <td class="nr"><h5>8</h5></td>
                <td class="title"><h6>-</h6></td>
                <td class="length"><h5>00:00</h5></td>
                <td><input type="checkbox" id="heart7"><label for="heart5" class="icons"></label></td>
            </tr>


        </table>

        <div class="shadow"></div>
        
        <!--<div id="stabilitron"><!-- frm -->
        
        <!--<div id="shadovH4"></div>-->
        
        <div class="info">
            <h4 id="info"></h4>
            <!--<div id="shadowH4"></div>-->
        </div>
        
        <!--</div>-->

        <audio preload id="audio" controls loop>
            <source src="">
        </audio>

        <table class="player">
            <td><input type="checkbox" id="backward"><label for="backward" class="backward" onclick="back()"></label></td>
            <td><input type="checkbox" id="play" title="Play" onclick="togglePlayPause()"><label for="play" class="play"></label></td>
            <td><input type="checkbox" id="forward"><label for="forward" class="forward" onclick="next()"></label></td>
        </table>

        <table class="footer">
            <td><input type="checkbox" id="love" checked><label for="love" class="love"></label></td>
            <td><input type="checkbox" id="repeat"><label for="repeat" class="repeat"></label></td>
            <td><input type="checkbox" id="shuffle"><label for="shuffle" class="shuffle"></label></td>
            <td><input type="checkbox" id="options"><label for="options" class="options"></label></td>
        </table>

        <div class="current">
            <h2>Demons</h2>
        </div>
    </section>
    
    <!-- ССЫЛКИ НА АВТОРА -->
<!--
    <a href="https://github.com/Himeld23/MP3-Player">Author</a><br/>
    <a href="https://www.youtube.com/channel/UCC4E_6H74CPJ3_mFaaM3jXA">Author YouTube</a><br/>
    <a href="https://www.youtube.com/watch?v=guwSh93MYZo&t=40s">Video tutorial YouTube</a>
-->
    <script>
        var audio = document.getElementById('audio');
        var playpause = document.getElementById('play');
        // передача переменной элемента info ( название трека )
        var name_audio = document.getElementById('info');
        var icon_1 = document.getElementsByClassName('coverImage');

        
        
        // массив с URL(audio)
        var urls = [
        /*  1  */"../audio/top/$UICIDEBOY$ x POUYA - $OUTH $IDE $UICIDE.mp3",
        /*  2  */"../audio/N_E_W/ITSOKTOCRY - POP, LOCK & DROPDEAD.mp3",
        /*  3  */"../audio/N_E_W/",

        ];
        
        // массив имён треков
        var names = [
        /*  1  */"$UICIDEBOY$ x POUYA - $OUTH $IDE $UICIDE",
        /*  2  */"ITSOKTOCRY - POP, LOCK & DROPDEAD",
        /*  3  */"",
        ];
        
        // массив с обложками треков
        var icons1 = [
        /*  1  */"",
        /*  2  */"",
        /*  3  */"",
        /*  4  */"",
        /*  5  */"",
        /*  6  */"",
        /*  7  */"",
        /*  8  */"",
        /*  9  */"",
        ];

        
        
        function togglePlayPause() {
            // если аудио на паузе или окончено, то
            if (audio.paused || audio.ended) {
                // иконка паузы
                playpause.title = "Pause";
                // проигрывать аудио
                audio.play();
            } else {
                // иконка проигрывания
                playpause.title = "Play";
                // остановить аудио
                audio.pause();
            }
        }
        
        

        
        // счётчик номера трека
        var number_audio = 0;
        var ico = 0;
        // счётчик "включенно ли audio [ 0-выкл | 1-вкл ] "
        var on_off = 0;
        
        
        
        // НАЧАЛЬНЫЙ ТРЕК
        audio.src = urls[number_audio];
        // НАЧАЛЬНОЕ НАЗВАНИЕ ТРЕКА
        name_audio.innerHTML = names[number_audio];
        
        
        
        
        // включить следующий трек
        function next(){
            function bbb (){
                icon_1.style.backgroundImage = "url(../img/cover.png)";  
            };
            
            // не перелистывать вперед, если играет последний трек 
            if(number_audio == 1){}
            else{
            
            // Включено ли аудио?
            if(audio.paused || audio.ended)
                {on_off = 0;}
            else{on_off = 1};
            
            // прибавить 1 к счётчику
            number_audio ++;
            // сменить URL(audio) на следующие (в массиве)
            audio.src = urls[number_audio];
            // сменить название трека на следующее (в массиве)
            name_audio.innerHTML = names[number_audio];
            
            
            if (on_off == 1) {
                // проигрывать аудио
                audio.play();
            };
            };
        };
        
        // включить предыдущий трек
        function back(){

            // не перелистывать назад, если играет первый трек 
            if(number_audio == 0){}
            else{
                
            // Включено ли аудио?
            if(audio.paused || audio.ended)
                {on_off = 0;}
            else{on_off = 1};
            
            number_audio --;
            audio.src = urls[number_audio];
            name_audio.innerHTML = names[number_audio];
            
            
            if (on_off == 1) {
                // проигрывать аудио
                audio.play();
            };
            };
        };
    </script>
</body>

</html>
